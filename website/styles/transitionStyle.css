/* ═══════════════════════════════════════════════════════
   MINIMORPHIC — Hub / Transition Page
   ═══════════════════════════════════════════════════════ */

*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}

:root{
  --bg:       #f5e6d3;
  --surface:  #fdfbf8;
  --border:   #e8ddd0;
  --accent:   #d4a574;
  --accent-g: #b7dfaa;
  --accent-b: #9ecde6;
  --accent-r: #f4a6b4;
  --text:     #3c3c3c;
  --muted:    #a89080;
  --radius:   18px;
  --font:     'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
}

html,body{
  height:100%;
  font-family:var(--font);
  background:var(--bg);
  color:var(--text);
  overflow:hidden;
}

/* ── Intro overlay ──────────────────────────────────── */
#intro{
  position:fixed;inset:0;
  z-index:900;
  display:flex;flex-direction:column;
  align-items:center;justify-content:center;
  background:var(--bg);
  transition:opacity .6s ease,visibility .6s ease;
}
#intro.done{opacity:0;visibility:hidden;pointer-events:none;}

/* glitch / reveal title */
.intro-title{
  font-size:clamp(28px,5vw,52px);
  font-weight:300;
  letter-spacing:.35em;
  color:var(--accent);
  position:relative;
  overflow:hidden;
  opacity:0;
  animation:introFadeUp .8s .3s ease forwards;
}
.intro-sub{
  font-size:13px;letter-spacing:.25em;color:var(--muted);
  margin-top:10px;opacity:0;
  animation:introFadeUp .6s 1s ease forwards;
}

/* progress bar */
.intro-bar-track{
  width:180px;height:3px;border-radius:3px;
  background:var(--border);margin-top:36px;overflow:hidden;
  opacity:0;animation:introFadeUp .4s 1.3s ease forwards;
}
.intro-bar-fill{
  height:100%;width:0;border-radius:3px;
  background:linear-gradient(90deg,var(--accent),var(--accent-g));
  animation:barFill 1.6s 1.5s ease-in-out forwards;
}

/* ring burst */
.intro-ring{
  position:absolute;
  border-radius:50%;
  border:1.5px solid var(--accent);
  opacity:0;
  animation:ringBurst 1.8s 2.6s ease forwards;
}
.intro-ring:nth-child(1){width:120px;height:120px;animation-delay:2.6s}
.intro-ring:nth-child(2){width:200px;height:200px;animation-delay:2.75s}
.intro-ring:nth-child(3){width:300px;height:300px;animation-delay:2.9s}

@keyframes introFadeUp{
  to{opacity:1;transform:translateY(0)}
  from{opacity:0;transform:translateY(14px)}
}
@keyframes barFill{to{width:100%}}
@keyframes ringBurst{
  0%{opacity:.7;transform:scale(.6)}
  100%{opacity:0;transform:scale(1.8)}
}

/* ── Hub wrapper ────────────────────────────────────── */
#hub{
  position:relative;
  width:100%;height:100%;
  display:flex;flex-direction:column;
  align-items:center;justify-content:center;
  opacity:0;transition:opacity .8s ease;
}
#hub.visible{opacity:1}

/* header */
.hub-header{
  position:absolute;top:32px;
  text-align:center;
}
.hub-logo{
  font-size:22px;font-weight:300;
  letter-spacing:.4em;color:var(--accent);
}
.hub-tagline{
  font-size:12px;color:var(--muted);
  margin-top:4px;letter-spacing:.15em;
}

/* user badge */
.hub-user{
  position:absolute;top:20px;left:24px;
  font-size:12px;color:var(--muted);
  letter-spacing:.05em;
}

/* logout */
.hub-logout{
  position:absolute;top:16px;right:20px;
  padding:7px 14px;border-radius:10px;
  border:none;background:#e88b9a;color:#fff;
  font-weight:600;font-size:11px;cursor:pointer;
  letter-spacing:.04em;
  transition:background .2s;
}
.hub-logout:hover{background:#d57383}

/* ── Radial selector ────────────────────────────────── */
.selector{
  position:relative;
  width:min(90vw,640px);
  height:min(90vw,640px);
}

/* center hub circle */
.hub-circle{
  position:absolute;
  top:50%;left:50%;
  width:140px;height:140px;
  transform:translate(-50%,-50%);
  border-radius:50%;
  background:radial-gradient(circle,var(--surface) 60%,var(--bg) 100%);
  border:2.5px solid var(--accent);
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 0 60px rgba(212,165,116,.12),
             0 0 120px rgba(212,165,116,.06);
  z-index:10;cursor:pointer;
  transition:transform .3s,box-shadow .3s;
}
.hub-circle:hover{transform:translate(-50%,-50%) scale(1.06);box-shadow:0 0 70px rgba(212,165,116,.22)}

.hub-circle-label{
  font-size:13px;letter-spacing:.2em;color:var(--accent);
  font-weight:500;
  pointer-events:none;
}

/* decorative orbit rings */
.orbit{
  position:absolute;top:50%;left:50%;
  border-radius:50%;border:1px solid var(--border);
  transform:translate(-50%,-50%);
  pointer-events:none;transition:border-color .4s;
}
.orbit-1{width:260px;height:260px;}
.orbit-2{width:420px;height:420px;}
.orbit-3{width:560px;height:560px;border-style:dashed;opacity:.25}

/* orbit glow when item selected */
.orbit.glow{border-color:rgba(212,165,116,.22)}

/* connector lines from center to items */
.connector{
  position:absolute;
  top:50%;left:50%;
  height:2px;
  transform-origin:0 50%;
  background:linear-gradient(90deg,var(--accent) 0%,transparent 100%);
  opacity:0;transition:opacity .35s;
  pointer-events:none;z-index:5;
}
.connector.active{opacity:.35}

/* ── Project cards (the rectangles) ─────────────────── */
.project-card{
  position:absolute;
  width:190px;
  padding:18px 16px;
  background:var(--surface);
  border:2px solid var(--border);
  border-radius:var(--radius);
  cursor:pointer;
  transition:transform .35s cubic-bezier(.4,0,.2,1),
             border-color .3s,box-shadow .3s,background .3s;
  z-index:20;
  /* start hidden for stagger animation */
  opacity:0;
  transform:translate(-50%,-50%) scale(.7);
}

.project-card.placed{
  opacity:1;
  transform:translate(-50%,-50%) scale(1);
}

.project-card.selected{
  border-color:var(--accent);
  box-shadow:0 0 36px rgba(212,165,116,.18);
  background:linear-gradient(135deg,rgba(212,165,116,.08),var(--surface));
  transform:translate(-50%,-50%) scale(1.08);
}
.project-card:hover:not(.selected){
  border-color:rgba(212,165,116,.4);
}

.card-icon{
  width:36px;height:36px;
  border-radius:10px;
  margin-bottom:10px;
  display:flex;align-items:center;justify-content:center;
  font-size:18px;
}

.card-title{
  font-size:15px;font-weight:600;
  letter-spacing:.04em;
  margin-bottom:4px;
}
.card-desc{
  font-size:11px;color:var(--muted);
  line-height:1.45;
}
.card-status{
  display:inline-block;
  margin-top:10px;
  padding:3px 10px;
  border-radius:20px;
  font-size:10px;letter-spacing:.06em;
  font-weight:600;text-transform:uppercase;
}
.card-status.active{background:rgba(183,223,170,.15);color:var(--accent-g)}
.card-status.planned{background:rgba(158,205,230,.12);color:var(--accent-b)}

/* ── Preview pane (shows on selection) ──────────────── */
.preview{
  position:absolute;
  bottom:60px;
  left:50%;transform:translateX(-50%);
  text-align:center;
  opacity:0;
  transition:opacity .4s,transform .4s;
  transform:translateX(-50%) translateY(10px);
  pointer-events:none;
  max-width:360px;
}
.preview.show{
  opacity:1;
  transform:translateX(-50%) translateY(0);
}
.preview-title{
  font-size:18px;font-weight:600;
  letter-spacing:.06em;
  margin-bottom:4px;
}
.preview-desc{
  font-size:12px;color:var(--muted);
  line-height:1.5;
}
.preview-cta{
  display:inline-block;margin-top:12px;
  padding:8px 22px;border-radius:24px;
  border:1.5px solid var(--accent);
  background:transparent;color:var(--accent);
  font-size:12px;letter-spacing:.1em;
  cursor:pointer;transition:background .25s,color .25s;
}
.preview-cta:hover{background:var(--accent);color:var(--bg)}

/* ── Instructions bar ───────────────────────────────── */
.instructions{
  position:absolute;bottom:20px;left:50%;
  transform:translateX(-50%);
  font-size:11px;color:var(--muted);
  display:flex;gap:16px;align-items:center;
  white-space:nowrap;
}
.kbd{
  display:inline-block;
  padding:3px 7px;
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:5px;
  font-family:monospace;font-size:11px;
  color:var(--text);margin:0 2px;
}

/* ── Page-exit overlay ──────────────────────────────── */
#exitOverlay{
  position:fixed;inset:0;
  background:var(--bg);
  z-index:999;
  opacity:0;pointer-events:none;
  transition:opacity .45s ease;
}
#exitOverlay.go{opacity:1;pointer-events:all}

/* ── Responsive ─────────────────────────────────────── */
@media(max-width:700px){
  .selector{width:92vw;height:92vw}
  .project-card{width:140px;padding:14px 12px}
  .card-title{font-size:13px}
  .card-desc{font-size:10px}
  .hub-circle{width:110px;height:110px}
  .hub-circle-label{font-size:11px}
  .orbit-1{width:200px;height:200px}
  .orbit-2{width:320px;height:320px}
  .orbit-3{width:430px;height:430px}
}
@media(max-width:420px){
  .project-card{width:115px;padding:10px 8px}
  .card-icon{width:28px;height:28px;font-size:14px}
  .hub-header{top:16px}
  .hub-user,.hub-logout{top:10px}
}